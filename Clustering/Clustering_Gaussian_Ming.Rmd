This query does a table JOIN between the imaging (PhotoObj) and spectra
(SpecObj) tables and includes columns for five color bands' magnitudes 
(cModelMag are DeV+Exp magnitude, while u,g,r,i,z are the better of these two).
deVAB and expAB are DeV and Exp fitting of b/a ratio (b/a in ellipse fitting?)
We only include first 2000objects that are galaxies and 
with a redshift ratio from 0 to 10.

The query submitted to SDSS is as follow: 
```{}
SELECT TOP 2000
   p.objid,p.ra,p.dec,p.u,p.g,p.r,p.i,p.z,
   p.cModelMag_u, p.cModelMag_g, cModelMag_r,
   p.cModelMag_i, p.cModelMag_z,
   p.deVAB_u, p.deVAB_r, p.deVAB_i, p.deVAB_z, 
   p.expAB_u, p.expAB_g, p.expAB_r, p.expAB_i,
   p.expAB_z,
   s.specobjid, s.class, s.z as redshift
FROM PhotoObj AS p
   JOIN SpecObj AS s ON s.bestobjid = p.objid
WHERE 
   s.z BETWEEN 0 AND 10
   and s.class = "GALAXY"
```

```{r,message=FALSE}
photo.pairs = read.csv("Photo_pairs.csv")
names(photo.pairs)
photo.pairs_sub = subset(photo.pairs, select=c("redshift"))
library(mclust)
BIC <- mclustBIC(photo.pairs_sub)
plot(BIC)
mod1 <- Mclust(photo.pairs_sub, x = BIC)
```
```{r}
#ICL <- mclustICL(photo.pairs_sub)
#plot(ICL)
```






















